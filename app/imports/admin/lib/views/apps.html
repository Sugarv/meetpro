<template name="tmplAdminApps">
  <div class="container-fluid">
    {{#if isSuperAdmin}}
      <div class="row">
        <ol class="breadcrumb" id="breadcrumb">
            <li><a href="/">{{_"m_home"}}</a></li>
            <li class="active">{{_"appdata"}}</li>
        </ol>   
      </div>
      <h3>{{_"appdata"}}</h3>
      <div class="row">
        {{#if appData}}
        <div class="col-md-12">
          {{> reactiveTable 
            collection=appData
            fields=displayedFields
            class="table table-striped table-bordered"
          }}
        </div>
        {{/if}}
      </div>
      
      <div class="row">
        <button id="add-app" class="btn btn-success">{{_"q_add"}}</button>
      </div>
    {{/if}}
  </div>
</template>

<template name="tmplAdminViewApp">
  <div class="modal fade right" id="" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="container-fluid">
          <div class="modal-header">
              <button type="button" class="close closeDialog" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" id="">App Details</h4>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-xs-8">
                <h2>{{theParams.APP_NAME}}</h2>
              </div>
            </div>
            {{#with theStats}}
              <div class="row">
                <div class="col-xs-8">
                  <h3>Statistics</h3>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Users</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{users}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Appointments</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{appts}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Video call duration</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{duration2str calls}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Total Income</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{income}}</p>
                </div>
              </div>
            {{/with}}
            {{#with theParams}}
              <div class="row">
                <div class="col-xs-8">
                  <h3>Parameters</h3>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-4">
                  <img src={{APP_LOGO}} class="img-circle img-responsive" />
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Admin Email:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{ADMIN_EMAIL}} &nbsp;<a href='/admin/user/{{ADMIN_ID}}'>(Owner profile)</a></p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">App Email:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{APP_EMAIL}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Primary Lang:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{PRIMARY_LANG}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Working Hours:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{workhours_from}} - {{workhours_to}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Time Zone:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{workhours_tz}}</p>
                </div>
              </div>
              <!-- <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Booking Allowed Hours:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{bookingAllowedHours}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Cancellation days:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{daysCanCancel}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Enter Interval:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{enterInterval}}</p>
                </div>
              </div> -->
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Booking charge:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{bookingCharge}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Plan:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{plan}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Subscription ID:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{subscriptionId}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Subscription Status:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{subscriptionStatus}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Payment gateways:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{enabledPayments}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Group ID:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{_groupId}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Created at:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{dateFormatShort createdAt}}</p>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-3 col-sm-4">
                  <p class="appt-header">Updated at:</p>
                </div>
                <div class="col-xs-9 col-sm-8">
                  <p>{{dateFormatShort updatedAt}}</p>
                </div>
              </div>
            {{/with}}
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger closeDialog" data-dismiss="modal">{{_"ap_close"}}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="tmplAdminAddApp">
  <div class="modal fade right" id="" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="container-fluid">
          <div class="modal-header">
              <button type="button" class="close closeDialog" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" id="">{{_"add_app"}}</h4>
          </div>
          <div class="modal-body">
              <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                  <form action="" method="POST" role="form" class="add-app">                  
                    <div class="form-group">
                        <label for="">{{_"app_name"}}</label>
                        <input type="text" class="form-control" id="appname" placeholder="">
                    </div>
                    <div class="form-group">
                        <label for="">{{_"admin_email"}}</label>
                        <input type="text" class="form-control" id="appadminemail" placeholder="">
                    </div>

                    <button type="submit" class="btn btn-primary">{{_"submit"}}</button>
                  </form>
                </div>
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger closeDialog" data-dismiss="modal">{{_"ap_close"}}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>